{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/goit-api.js","../src/js/render-functions.js","../src/js/swiper-api.js","../src/js/izi-toast-wrapper.js","../src/js/07-reviews.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const modalHeader = document.querySelector('.modal-header');\n  const modalBtnClose = document.querySelector('.modal-btn-close');\n  const btnMenu = document.querySelector('.header-icon-burger');\n  const menuLinks = document.querySelectorAll('.menu-list a');\n  const btnMenuTablet = document.querySelector('.btn-menu-tablet');\n  const btnMenuModal = document.querySelector('.btn-menu');\n  const menuCenterOpen = document.querySelector('.menu-center-open');\n  const menuCenterList = document.querySelector('.menu-center-list');\n\n  function openModal() {\n    modalHeader.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n    modalBtnClose.style.display = 'flex';\n  }\n\n  function closeModal() {\n    modalHeader.classList.remove('is-open');\n    document.body.style.overflow = '';\n  }\n\n  modalBtnClose.addEventListener('click', closeModal);\n  btnMenu.addEventListener('click', openModal);\n  btnMenuTablet.addEventListener('click', closeModal);\n  btnMenuModal.addEventListener('click', closeModal);\n  menuLinks.forEach(function (link) {\n    link.addEventListener('click', function () {\n      closeModal();\n    });\n  });\n\n  const menuCenterItems = document.querySelectorAll('.menu-center-item a');\n  menuCenterItems.forEach(function (link) {\n    link.addEventListener('click', function (event) {\n      menuCenterList.classList.remove('is-open');\n    });\n  });\n  menuCenterOpen.addEventListener('click', function () {\n    menuCenterList.classList.toggle('is-open');\n  });\n});\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study';\n\nexport async function fetchResponses() {\n  const response = await axios.get('/api/reviews');\n  return response.data;\n}\n\nexport async function sendCooperationRequest({ email, comment }) {\n  const response = await axios.post('/api/requests', { email, comment });\n  return response.data;\n}\n","function renderReview({ _id, author, avatar_url, review }) {\n  return `\n  <li class=\"swiper-slide\">\n    <img\n     src=\"${avatar_url}\"\n      alt=\"Reviewer ${_id} photo\"\n      loading=\"lazy\">\n    <h3 class=\"reviewer-name\">${author}</h3>\n    <p class=\"review\">\n      ${review}\n    </p>\n  </li>\n  `;\n}\n\nexport function renderReviewItems(reviews) {\n  return reviews.map(renderReview).join('');\n}\n","// core version + navigation + keyboard navigation\nimport Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\n\nexport function initSwiper({\n  sectionId,\n  useNavigation,\n  additionalParams = null,\n}) {\n  const swiperParameters = {\n    direction: 'horizontal',\n    allowTouchMove: true,\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n    ...additionalParams,\n  };\n\n  swiperParameters.modules = useNavigation\n    ? [Navigation, Keyboard]\n    : [Keyboard];\n\n  if (useNavigation) {\n    swiperParameters.navigation = {\n      prevEl: '.swiper-button-prev',\n      nextEl: '.swiper-button-next',\n    };\n  }\n\n  const swiper = new Swiper(`#${sectionId} .swiper`, swiperParameters);\n}\n","const commonOptions = {\n  position: 'topCenter',\n  pauseOnHover: true,\n  closeOnClick: true,\n  icon: '',\n  close: false,\n  timeout: 2000,\n};\n\nimport iziToast from 'izitoast';\n\nexport function showError(message) {\n  iziToast.error({\n    message,\n    progressBarColor: '#b51b1b',\n    title: 'Error',\n    ...commonOptions,\n  });\n}\n","import { fetchResponses, sendCooperationRequest } from './goit-api';\nimport { renderReviewItems } from './render-functions';\nimport { initSwiper } from './swiper-api';\nimport { showError } from './izi-toast-wrapper';\n\nconst reviewsList = document.querySelector('#reviews .swiper-wrapper');\nreviewsEntryPoint();\n\nasync function reviewsEntryPoint() {\n  const rendered = await tryRenderReviews();\n  if (rendered) {\n    const swiperParams = {\n      spaceBetween: 16,\n      breakpoints: {\n        320: { slidesPerView: 1 },\n        768: { slidesPerView: 2 },\n        1440: { slidesPerView: 4 },\n      },\n    };\n\n    initSwiper({\n      sectionId: 'reviews',\n      useNavigation: true,\n      additionalParams: swiperParams,\n    });\n  } else {\n    document\n      .querySelector('#reviews .side-arrows')\n      .classList.add('visually-hidden');\n\n    reviewsList.style = 'justify-content: center';\n\n    const boundingRect = reviewsList.getBoundingClientRect();\n    if (isReviewsListVisible()) {\n      showErrorMessage();\n    } else {\n      addEventListener('scroll', onScroll);\n    }\n  }\n}\n\nasync function tryRenderReviews() {\n  try {\n    const response = await fetchResponses();\n    reviewsList.innerHTML = renderReviewItems(response);\n    return true;\n  } catch (error) {\n    reviewsList.innerHTML = '<li class=\"swiper-slide\">Not found</li>';\n    return false;\n  }\n}\n\nfunction onScroll() {\n  if (isReviewsListVisible()) {\n    removeEventListener('scroll', onScroll);\n    showErrorMessage();\n  }\n}\n\nfunction isReviewsListVisible() {\n  return reviewsList.getBoundingClientRect()['y'] <= window.innerHeight;\n}\n\nfunction showErrorMessage() {\n  showError(\"Can't load reviews :(\");\n}\n"],"names":["modalHeader","modalBtnClose","btnMenu","menuLinks","btnMenuTablet","btnMenuModal","menuCenterOpen","menuCenterList","openModal","closeModal","link","event","axios","fetchResponses","renderReview","_id","author","avatar_url","review","renderReviewItems","reviews","initSwiper","sectionId","useNavigation","additionalParams","swiperParameters","Navigation","Keyboard","Swiper","commonOptions","showError","message","iziToast","reviewsList","reviewsEntryPoint","tryRenderReviews","isReviewsListVisible","showErrorMessage","onScroll","response"],"mappings":"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"}